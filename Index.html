<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="apple-mobile-web-app-title" />
    <meta name="apple-mobile-web-app-capable" content="no" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="x-rim-auto-match" content="none" />

    <title i18n i18n-html="首页">首页</title>

    <!-- ICO -->
    <link href="./favicon.ico" rel="shortcut icon" />

    <!-- base css -->
    <link href="./Theme/DApp/css/base.css" rel="stylesheet" />
    <!--自写-->
    <link href="./Theme/DApp/css/home.css" rel="stylesheet" />
</head>
<body>

    <div class="home-top">
        <div class="home-top-left">
            <span class="logo-span"></span>
            <b>EAS</b>
        </div>
        <div class="home-top-right">
            <div class="jg-box">
                <i></i><span class="ett-price-data2" data-topUserInfoID="">--</span>
            </div>
        </div>
        <div class="languagebox">
            <span class="language-button2 data-language-i18n-curr">
                <i></i>
            </span>
            <div class="choose-lang" style="display: none;">
                <div class="choose-lang-box data-language-i18n">
                </div>
            </div>
        </div>
    </div>
    <section class="container">
        <div class="home-listbox">
            <div style="display:none;" class="data-contractUserInfo" data-investLevel="" data-investAmount=""></div>
            <div class="home-list home-list01" style="display:none;">
                <h3 i18n i18n-html="初级节点">初级节点</h3>
                <a class="jd-btn" href="javascript:void(0);" onclick="invest_1(1,'100')" i18n i18n-html="质押">质押</a>
            </div>
            <div class="home-list home-list02" style="display:none;">
                <h3 i18n i18n-html="中级节点">中级节点</h3>
                <a class="jd-btn" href="javascript:void(0);" onclick="invest_1(2,'500')" i18n i18n-html="质押">质押</a>
            </div>
            <div class="home-list home-list03" style="display:none;">
                <h3 i18n i18n-html="高级节点">高级节点</h3>
                <a class="jd-btn" href="javascript:void(0);" onclick="invest_1(3,'1000')" i18n i18n-html="质押">质押</a>
            </div>
            <div class="home-list home-list04" style="display:none;">
                <h3 i18n i18n-html="超级节点">超级节点</h3>
                <a class="jd-btn" href="javascript:void(0);" onclick="invest_1(4,'2000')" i18n i18n-html="质押">质押</a>
            </div>
        </div>
        <div class="home-box1">
            <div class="home-num-list">
                <div class="numbox">
                    <span class="numbox-name fl" i18n i18n-html="质押时间">质押时间</span>
                    <div class="numbox-right fr">
                        <div class="mun-01">
                            <span class="invest-time-data0-8">--</span>
                        </div>
                    </div>
                </div>
                <div class="numbox">
                    <span class="numbox-name fl" i18n i18n-html="质押效益">质押效益</span>
                    <div class="numbox-right fr">
                        <div class="mun-01">
                            <span class="invest-bouns-data0-4">--</span>
                            <i class="icon-name icon-name01"></i>
                        </div>
                    </div>
                </div>
                <div class="numbox">
                    <span class="numbox-name fl" i18n i18n-html="布道效益">布道效益</span>
                    <div class="numbox-right fr">
                        <div class="mun-01">
                            <span class="referrer-bouns-data0-5">--</span>
                            <i class="icon-name icon-name01"></i>
                        </div>
                    </div>
                </div>
                <div class="numbox">
                    <span class="numbox-name fl" i18n i18n-html="结算效益">结算效益</span>
                    <div class="numbox-right fr">
                        <div class="mun-01 mun-02">
                            <span class="unsettle-bouns">--</span>
                            <i class="icon-name icon-name01" onclick="settlement()"></i>
                        </div>
                    </div>
                </div>
                <div class="numbox">
                    <span class="numbox-name fl" i18n i18n-html="效益额度">效益额度</span>
                    <div class="numbox-right fr">
                        <div class="mun-01">
                            <span class="cansettle-bouns">--</span>
                            <i class="icon-name icon-name01"></i>
                        </div>
                    </div>
                </div>
                <div class="numbox">
                    <span class="numbox-name fl" i18n i18n-html="转出效益">转出效益</span>
                    <div class="numbox-right fr">
                        <div class="mun-01 mun-02">
                            <span class="uncashout-bouns-data0-12">--</span>
                            <i class="icon-name icon-name01" onclick="showpop('#Cashout')"></i>
                        </div>
                    </div>
                </div>
                <div class="numbox">
                    <span class="numbox-name fl" style="letter-spacing:6px;" i18n i18n-html="总效益">总效益</span>
                    <div class="numbox-right fr">
                        <div class="mun-01">
                            <span class="total-bouns">--</span>
                            <i class="icon-name icon-name01"></i>
                        </div>
                    </div>
                </div>
                <div class="numbox">
                    <span class="numbox-name fl" i18n i18n-html="节点链接">节点链接</span>
                    <div class="numbox-right fr">
                        <div class="mun-01">
                            <span class="refer-link data-inviteUrl">--</span>
                            <i class="icon-name icon-copy data-inviteUrl-copy copyData" data-title="节点链接"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--提示信息弹窗-->
    <div id="msgtips2" class="popup tips-popup" style="display:none;">
        <div class="popup-box">
            <div class="popup-box-title" id="msgtips2-title" i18n i18n-html="提示">
                提示
            </div>
            <div class="popup-box-content">
                <div class="popup-box-text">
                    <p id="msgtips2-msg">消息</p>
                </div>
            </div>
            <div class="popup-submit">
                <button class="cancle-btn" i18n i18n-html="确认">确认</button>
            </div>
        </div>
        <div class="popup-bg"></div>
    </div>

    <!--提示结算选择弹窗-->
    <div id="Cashout" class="popup" style="display:none;">
        <div class="popup-box">
            <div class="popup-box-title">
                <span i18n i18n-html="提现">提现</span> <div class="popup-box-close"></div>
            </div>
            <div class="popup-box-content">
                <div class="form-widget">
                    <div class="form-box">
                        <div class="form-group">
                            <label class="form-label" i18n i18n-html="结算方式">结算方式</label>
                            <div class="form-control">
                                <div class="option-box">
                                    <input type="radio" name="choose2" checked onclick="cashout(0)">
                                    <span>USDT</span>
                                </div>
                                <div class="option-box">
                                    <input type="radio" name="choose2" onclick="cashout(1, 4)">
                                    <span>EAS</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group Cashout-EAS">
                            <label class="form-label" i18n i18n-html="结算比例">结算比例</label>
                            <div class="form-control">
                                <div class="option-box">
                                    <input type="radio" name="choose1" value="0" checked onclick="cashout(0, 0)">
                                    <span>100%</span>
                                </div>
                                <div class="option-box">
                                    <input type="radio" name="choose1" value="1" onclick="cashout(0, 1)">
                                    <span>70%</span>
                                </div>
                                <div class="option-box">
                                    <input type="radio" name="choose1" value="2" onclick="cashout(0, 2)">
                                    <span>50%</span>
                                </div>
                                <div class="option-box">
                                    <input type="radio" name="choose1" value="3" onclick="cashout(0, 3)">
                                    <span>30%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="popup-submit">
                <button type="button" class="confirm-btn Cashout-close" onclick="cashout_submit()" i18n i18n-html="确认">确认</button>
            </div>
        </div>

        <div class="popup-bg"></div>
    </div>


    <!--推荐码填写-->
    <div id="Recommendation" class="popup tips-popup" style="display:none;">
        <div class="popup-box">
            <div class="popup-box-title text-left" i18n i18n-html="投资">
                投资
            </div>
            <div class="popup-box-content data-Recommendation-1">
                <div class="popup-box-text">
                    <label class="form-label" i18n i18n-html="推荐码" style="display:none">推荐码</label>
                    <input style="width:100%;" type="text" class="invitors data-RCode" maxlength="60" autocomplete="off" placeholder="请输入推荐码" i18n i18n-placeholder="请输入推荐码">
                </div>
            </div>
            <!--<div class="smallTil">
                Default is <span class="data-defaultRCode" style="display:none"></span>
            </div>-->
            <div class="popup-submit">
                <button class="confirm-btn width100 Recommendation-close" onclick="invest_2()" i18n i18n-html="确认">确认</button>
            </div>
        </div>
        <div class="popup-bg"></div>
    </div>
    <!--获取资金账户授权提示-->
    <div id="TokenApproveLoad" class="popup home-tips" style="display:none">
        <div class="popup-box">
            <div class="popup-box-title text-left" i18n i18n-html="提示">
                提示
            </div>
            <div class="popup-box-content">
                <div class="popup-box-text">
                    <div class="loader">
                        <div class="loading-3">
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                        </div>
                    </div>
                    <p i18n i18n-html="正在获取资金账户授权...">正在获取资金账户授权...</p>
                </div>
            </div>
        </div>
    </div>
    <!--处理交易提示提示-->
    <div id="TransactionProcessing" class="popup home-tips" style="display:none">
        <div class="popup-box">
            <div class="popup-box-title text-left" i18n i18n-html="提示">
                提示
            </div>
            <div class="popup-box-content">
                <div class="popup-box-text">
                    <div class="loader">
                        <div class="loading-3">
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                            <i></i>
                        </div>
                    </div>
                    <p i18n i18n-html="正在处理交易...">正在处理交易...</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
<script src="//cdn.jsdelivr.net/npm/jquery@3.1.1/dist/jquery.min.js"></script>

<script>
    $(function () {
        $('.language-button2').click(function () {
            $('.choose-lang').fadeIn();
        });

        $('.choose-lang').click(function () {
            $(this).fadeOut();
        });


        $('.switch-button').click(function () {
            $('.choose-switch').fadeIn();
        });

        $('.choose-switch').click(function () {
            $(this).fadeOut();
        });
    });
    function showPage(index) {
        $('.page-item').hide()
        $('#page' + index).show()
    }
    function gourl(onthis) {
        _gourl = $(onthis).data('gourl')
        if (_gourl) {
            location.href = _gourl
        }
    }
    var toInestRecordsPageFrom = 0;
    function showInvestRecord(f_index) {
        toInestRecordsPageFrom = f_index;
        showPage(10);
    }

    function backToPage() {
        showPage(toInestRecordsPageFrom);
    }

</script>

<link href="./Plugin/layer/layui/css/layui.min.css" rel="stylesheet" /><!--layui样式-->
<script src="//cdn.jsdelivr.net/npm/layui-src@2.2.5/dist/layui.js"></script>
<script>
    var layer;
    var laytpl;
    layui.use(['layer', 'laytpl'], function () {
        layer = layui.layer;
        laytpl = layui.laytpl;
    });
    //全局通用消息接口
    function msgtips(msg, type, callback) {
        if (type)
            layer.msg(msg, { icon: type })
        else
            layer.msg(msg)
        if (typeof callback === "function") {
            setTimeout(function () {
                callback();
            }, 1000)
        }
    }

    //全局通用消息接口2
    function msgtips2(msg, title) {
        $msgtips2 = $('#msgtips2')
        title && $msgtips2.find('#msgtips2-title').html(title)
        msg && $msgtips2.find('#msgtips2-msg').html(msg)
        showpop('#msgtips2')
    }

    function msgtips3(msg, title) {
        $msgtips2 = $('#msgtips2')
        title && $msgtips2.find('#msgtips2-title').html(title)
        msg && $msgtips2.find('#msgtips2-msg').html(msg.toTranslateArr())
        showpop('#msgtips2')
    }
</script>

<script>
    //弹框
    function showpop(id) {
        $(id).fadeIn();
        $('body').addClass('open-layer');

        var h = ($(window).height() - $(id).children('.popup-box').height()) / 2;
        $(id).children('.popup-box').css('top', h);
    }
    $('.cancle-btn').click(function () {
        $('.popup').fadeOut();
        $('body').removeClass('open-layer');
    });
    $('.popup-box-close').click(function () {
        $('.popup').fadeOut();
        $('body').removeClass('open-layer');
    });
    $('.popup-bg').click(function () {
        $('.popup').fadeOut();
        $('body').removeClass('open-layer');
    });
    $('.Recommendation-close').click(function () {
        $('#Recommendation').fadeOut();
    });
    $('.Cashout-close').click(function () {
        $('#Cashout').fadeOut();
    });

    //tab
    $(function () {
        //选项卡
        $(".tab-title li").click(function () {

            var _index = $(this).index();

            $(this).parents('.tab-title').siblings().find(".tab-box").eq(_index).fadeIn().siblings().hide();
            $(this).addClass("active").siblings().removeClass("active");
        });
    });
</script>

<script>
    var validateNaN = function (num) {
        if (isNaN(BigNumber(num))) {
            return "0";
        } else return num;
    }
    //加减投注
    function ChangeCalculateInput(onthis) {
        var $onthis = $(onthis)
        var inputObj = $onthis.data("change").toString()
        var baseVal = $onthis.data("base").toString()
        var direction = $onthis.data("direction").toString()
        var limit = $onthis.data("limit").toString()
        //direction -1 减 ,0 设置为baseVal, 1 加
        //limit  不能小于或大于
        var changeValue = validateNaN($(inputObj).val());
        baseVal = validateNaN(baseVal);
        limit = validateNaN(limit);
        switch (direction) {
            case "-1":
                changeValue = changeValue.sub(baseVal)
                if (changeValue < limit) {
                    changeValue = limit;
                }
                break;
            case "0":
                changeValue = baseVal
                break;
            case "1":
                changeValue = changeValue.add(baseVal)
                if (changeValue > limit) {
                    changeValue = limit;
                }
                break;
            default:
        }
        $(inputObj).val(changeValue).change()
    }

    //调整合约投资精度
    function modulationdisplay_showethWei() {
        var dataethWeiList = $(".data-dataethWei")
        for (var i = 0; i < dataethWeiList.length; i++) {
            var $item = $(dataethWeiList[i]);
            var baseVal = $item.data("base").toString()
            if (baseVal) {
                baseVal = validateNaN(baseVal).mul(_ethWeiShow);
                $item.data("base", baseVal)
            }

            var limit = $item.data("limit").toString()
            if (limit) {
                limit = validateNaN(limit).mul(_ethWeiShow);
                $item.data("limit", limit)
            }
        }
        var showethWeiList = $(".data-showethWei")
        for (var i = 0; i < showethWeiList.length; i++) {
            var $item = $(showethWeiList[i]);
            var showval = $item.html().toString()
            if (true) {
                showval = validateNaN(showval).mul(_ethWeiShow);
                $item.html(showval)
            }
        }

        var valueethWeiList = $(".data-valueethWei")
        for (var i = 0; i < valueethWeiList.length; i++) {
            var $item = $(valueethWeiList[i]);
            var inputval = $item.val().toString()
            if (true) {
                inputval = validateNaN(inputval).mul(_ethWeiShow);
                $item.val(inputval)
            }
        }
    }

    //输入联动
    $(function () {
        //购买门票获得计算
        $('.buyTicketAmount').change(function () {
            buyTicket_calculate()
        })
        $('.buyTicketAmount').keyup(function () {
            buyTicket_calculate()
        })
    })
    function buyTicket_calculate() {
        var buyTicketAmount = $('.buyTicketAmount').val() || '0'
        var ratio = _DappContractPlugin.paramRatio || '0'
        var investmentTicket = buyTicketAmount.mul(ratio)
        $('.data-buyTicketAmount-Ticket').val(Number(investmentTicket) > 0 ? investmentTicket : '')
    }
</script>

<script src="//cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script type="text/javascript">
    //复制相关
    $(function () {
        var $copyDataArr = $('.copyData');
        for (var i = 0; i < $copyDataArr.length; i++) {
            band_Clipboard($copyDataArr[i])
        }
    });
    function band_Clipboard(cobj) {
        var clipboard = new ClipboardJS(cobj, {
            text: function (e) {
                return $(e).data('value');
            }
        });
        clipboard.on('success', function (e) {
            console.log(e);
            msgtips($(e.trigger).data('title').toTranslate() + '已复制到剪切板'.toTranslate());
        });

        clipboard.on('error', function (e) {
            console.log(e);
            msgtips("复制失败".toTranslate());
        });
    }
</script>

<!-- Dapp JS -->
<script src="./Plugin/Dapp/MathRepairV4.js?v=1.0.2"></script>
<script src="./Plugin/Dapp/DappBase.Plugin.js?v=1.2.02"></script>
<script src="./Plugin/Dapp/DappContract.Plugin.js?v=1.1.9"></script>
<script src="./Scripts/DateFormat.js"></script>
<script>
    $.extend({
        loadScript: function (url, cb, options) {
            // allow user to set any option except for dataType, cache, and url
            options = $.extend({}, {
                dataType: "script",
                cache: true,
                url: url
            }, options);

            // Use $.ajax() since it is more flexible than $.getScript
            // Return the jqXHR object so we can chain callbacks
            return $.ajax(options).done(function (script, textStatus) {
                typeof cb === "function" && cb(script, textStatus)
            });
        }
    });

    //处理火币加载注入web3问题
    function loadScript(url, cb, options) {
        $.loadScript(url, function () {
            typeof cb === "function" && cb()
        }, options);
    }
    $(function () {
        setTimeout(function () {
            loadScript('//cdn.jsdelivr.net/npm/web3@1.2.6/dist/web3.min.js', function () {
                loadScript('./Plugin/Dapp/main.js?v=2.2.05', function () {
                    //调整合约投资精度
                    modulationdisplay_showethWei()
                }, {
                    //cache: false,//上线注释
                    cache: !window._istest,//关联测试注释
                })
            })
        }, 1000)
    })
</script>
<script>
    //显示信息处理
    function HandleShowContractUserInfo_Text() {
        //当前等级
        var currentLevel = $('.data-contractUserInfo').data("investLevel");
        //当前投资
        var currentInvest = $('.data-contractUserInfo').data("investAmount");
        var currentLevelShow = ""
        switch (currentLevel) {
            case "1":
                currentLevelShow = "01";
                break;
            case "2":
                currentLevelShow = "02";
                break;
            case "3":
                currentLevelShow = "03";
                break;
            case "4":
                currentLevelShow = "04";
                break;
        }
        if (currentInvest > 0) {
            $('.home-list').hide();
            $('.home-list' + currentLevelShow).show();
            $('.home-list' + currentLevelShow).find("a").hide();
        }
        else {
            switch (currentLevel) {
                case "0":
                case "1":
                    $('.home-list').show();
                    break;
                case "2":
                    $('.home-list02').show();
                    $('.home-list03').show();
                    $('.home-list04').show();
                    break;
                case "3":
                    $('.home-list03').show();
                    $('.home-list04').show();
                    break;
                case "4":
                    $('.home-list04').show();
                    break;
            }
            $('.home-list' + currentLevelShow).find("a").show();
        }
    }


    HandleShowContractUserInfo = function () {
        HandleShowContractUserInfo_Text()

        //显示邀请码
        showInvitationlLink()
    }

    //提示账户资金授权
    HandleShowTokenApproveLoad = function (show) {
        if (show) {
            $('#TokenApproveLoad').show()
        } else {
            $('#TokenApproveLoad').hide()
        }
    }
    //提示交易处理
    HandleShowTransactionProcessingLoad = function (show) {
        if (show) {
            $('#TransactionProcessing').show()
        } else {
            $('#TransactionProcessing').hide()
        }
    }
</script>

<script src="./Plugin/i18n/jquery.i18n.js"></script>
<script>
    //i18n
    $(function () {
        layui.use(['laytpl'], function () {
            laytpl = layui.laytpl;

            $.i18n({
                list: "list",//filePath+filePrefix+list+fileSuffix+.json
                defaultLang: "en-US",//defaultLang
                lang: "",//filePath+filePrefix+lang+fileSuffix+.json
                filePath: "./Plugin/i18n/json/",//filePath+filePrefix+lang+fileSuffix+.json
                filePrefix: "i18n_",//filePath+filePrefix+lang+fileSuffix+.json
                fileSuffix: "",//filePath+filePrefix+lang+fileSuffix+.json
                callback: function (arr) {
                    var lis = [];
                    layui.each(arr, function (index, item) {
                        laytpl($("#data_lang_templet").html()).render(item, function (html) {
                            lis.push(html);
                        });
                    });
                    $('.data-language-i18n').html(lis.join(''))

                    //刷新翻译
                    HandleShowContractUserInfo_Text();
                },//inin return lang list
            }, function (lang) {
                //刷新翻译
                Handle_i18n(lang)
            });
        });
    })
</script>

<script type="text/html" id="data_lang_templet">
    <div class="choose-lang-btn" onclick="langChange(this)" data-lang="{{d.Value2}}">
        <i class="language-{{d.Value2}}"></i>
    </div>
</script>
<script type="text/javascript">
    //语言切换
    function langChange(onthis) {
        var lang = $(onthis).data('lang')
        var onlang = $.i18n_getCurrentLanguage()
        if (onlang == lang) return;
        $.i18n_setLanguage(lang, function () {
            //刷新翻译
            HandleShowContractUserInfo()
            Handle_i18n(lang)
        })
    }
    function Handle_i18n(lang) {
        layui.use(['laytpl'], function () {
            laytpl = layui.laytpl;

            $("[i18n]").i18n(function (strtemplet, i18nLang, formtCB, setCB) {
                if (strtemplet.indexOf("{" + "{") == -1) {
                    setCB(formtCB(strtemplet));
                } else {
                    laytpl(strtemplet).render(i18nLang, function (html) {
                        return setCB(html);
                    });
                }
            });
        });
        $('.data-language-i18n-curr').find('i').removeClass().addClass('language-' + lang);
    }
</script>
<script>
    //翻译
    var translateArr = {}
    function addTranslateArr(key, value) {
        translateArr[key] = value
    }
    String.prototype.toTranslateArr = function () {
        var str = this;
        for (var item in translateArr) {
            if (str.indexOf(item) >= 0) {
                str = str.replace(new RegExp(item, "g"), item.toTranslate_i18n())
            }
        }
        return str
    };
    String.prototype.toTranslate = function () {
        var str = this.toString().toTranslate_i18n();
        return str.toString()
    };

    //加入数组
    addTranslateArr("合约运行在", "合约运行在")
    addTranslateArr("请切换为", "请切换为")
    addTranslateArr("网络", "网络")
    addTranslateArr("主网", "主网")
    addTranslateArr("当前账户", "当前账户")
    addTranslateArr("请输入金额", "请输入金额")
    addTranslateArr("金额不正确", "金额不正确")
    addTranslateArr("请输入邀请码", "请输入邀请码")
    addTranslateArr("请输入推荐码", "请输入推荐码")
    addTranslateArr("请输入推荐人地址", "请输入推荐人地址")
    addTranslateArr("请输入正确的推荐码", "请输入正确的推荐码")
    addTranslateArr("授权操作金额失败", "授权操作金额失败")
    addTranslateArr("未转出", "未转出")
    addTranslateArr("门票", "门票")
    addTranslateArr("余额不足", "余额不足")


    addTranslateArr("已复制到剪切板", "已复制到剪切板")
    addTranslateArr("复制成功", "复制成功")
    addTranslateArr("复制失败", "复制失败")
    addTranslateArr("无", "无")
    addTranslateArr("投资成功", "投资成功")
    addTranslateArr("交易已取消", "交易已取消")
    addTranslateArr("结算成功", "结算成功")
    addTranslateArr("操作失败", "操作失败")
</script>
<script>
    var investLevel;
    var investMoney;
    var investCode;
    //投资
    function invest(code, rCode) {
        business_invest(investMoney, function (resulr, rdata) {
            if (resulr) {
                msgtips2("投资成功".toTranslate())
                console.log(rdata)
            } else {
                if (rdata.code == 4001) {
                    msgtips2("交易已取消".toTranslate())
                } else {
                    //alert(rdata.message || rdata)
                    msgtips2("操作失败".toTranslate() + '(' + rdata.toTranslateArr() + ')')
                }

            }
        }, code, rCode)
    }
    //投资1
    function invest_1(level, amount) {
        investLevel = level;
        investMoney = amount;
        business_getCurrentAccountCode(function (code, isNweCode) {
            console.log(code);
            investCode = code;
            if (isNweCode == 0 || isNweCode == 2) {
                $('.data-RCode').data("code", code)
                invest(code);
            } else {
                business_getRecommendCode(function (_rCode) {
                    console.log(_rCode)
                    $('.data-RCode').val(_rCode).data("code", code)

                    var defaultRCode = business_getDefaultRecommendCode();
                    if (defaultRCode) {
                        $('.data-defaultRCode').html(defaultRCode).show();
                    } else {
                        $('.data-defaultRCode').hide();
                    }
                    if (_rCode) {
                        invest(code, _rCode);
                    }
                    else {
                        showpop('#Recommendation');
                    }
                });
            }
        })

    }
    //投资2
    function invest_2() {
        var code = $('.data-RCode').data("code");
        var rCode = $('.data-RCode').val();
        if (rCode) {
            invest(investCode, rCode);
        }
        else {
            msgtips2("请输入推荐码".toTranslate());
        }

    }

    //结算
    function settlement() {
        business_settlement(function (resulr, rdata) {
            if (resulr) {
                msgtips2("结算成功".toTranslate());
                console.log(rdata);
            } else {
                if (rdata.code == 4001) {
                    msgtips2("交易已取消".toTranslate())
                } else {
                    msgtips2("操作失败".toTranslate() + '(' + rdata.toTranslateArr() + ')')
                }
            }
        });
    }

    //提现
    var _cashouttype
    var _cashouttype2 = 0;
    function cashout(type, type2) {
        if (type) {
            $('.Cashout-EAS').hide()

        } else {
            $('.Cashout-EAS').show()
            _cashouttype2 = $('.Cashout-EAS').find('input:checked').val()
        }
        switch (type2) {
            case 0:
            case 1:
            case 2:
            case 3:
            case 4:
                _cashouttype2 = type2;
                break;
            default:
                break;
        }
    }
    function cashout_submit() {
        business_takeBonus(_cashouttype2, function (resulr, rdata) {
            if (resulr) {
                msgtips2("提现成功".toTranslate());
                console.log(rdata);
            } else {
                if (rdata.code == 4001) {
                    msgtips2("交易已取消".toTranslate())
                } else {
                    msgtips2("操作失败".toTranslate() + '(' + rdata.toTranslateArr() + ')')
                }
            }
        });
    }

</script>
<script>
    //邀请码相关
    //显示邀请链接
    function showInvitationlLink() {
        business_getCurrentAccountCode(function (code, isNweCode) {
            if (isNweCode == 2) {
                var inviteUrl = document.location.protocol + '//' + window.location.host + location.pathname + "?rCode=" + code
                $('.data-inviteUrl').html(inviteUrl)
                $('.data-inviteUrl-copy').data("value", inviteUrl).show()

                $('.data-contractUserInfoCode').html(code).val(code)
                $('.data-contractUserInfoCode-copy').data("value", code).show()

                $('.data-contractUserInfoCode-div').show()
                $('.data-contractUserInfoCode-div2').hide()
            } else {
                $('.data-inviteUrl').html('无'.toTranslate())
                $('.data-inviteUrl-copy').hide()

                $('.data-contractUserInfoCode').html('无'.toTranslate()).val('无'.toTranslate())
                $('.data-contractUserInfoCode-copy').hide()

                $('.data-contractUserInfoCode-div').hide()
                $('.data-contractUserInfoCode-div2').show()
            }
        })

    }
    //复制邀请码
    function copyInvitationlCode(onthis) {
        var title = $(onthis).data('title')
        var value = $(onthis).data('value')
        if (!value) {
            return;
        }
        try {
            var oInput = document.createElement('input');
            oInput.value = value;
            document.body.appendChild(oInput);
            oInput.select(); // 选择对象
            document.execCommand("Copy"); // 执行浏览器复制命令
            oInput.style.display = 'none';
            msgtips2(title + '复制成功'.toTranslate());
        } catch (e) {
            console.log(e)
            msgtips('复制失败'.toTranslate());
        }
    }
</script>